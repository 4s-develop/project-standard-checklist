# 詳細設計 チェックリスト（詳細版）

## 1) 詳細設計書

- 目的: 実装レベルの仕様を固める
- 手順: モジュール/クラス/関数仕様、例外/ログ方針を記載
- ツール: 詳細設計書.docx
- 成果物: 詳細設計書
- 受入基準: 主要ロジック/エラー処理が明確
- 証跡: 文書 + レビュー
- 役割: FE/BE

## 2) DB 物理設計 + ERD

- 目的: 正規化/一貫性/性能設計
- 手順: ERD 作成 → 物理設計（型/制約/索引/FK/パーティション）
- ツール: ERD ツール/Prisma schema
- 成果物: ERD + 物理設計書
- 受入基準: 参照整合/性能上の索引定義
- 証跡: 図/設計書
- 役割: DBA/BE

## 3) テーブル定義書

- 目的: カラム/型/制約を明文化
- 手順: テンプレにカラム単位で記載
- ツール: Table-Definition.xlsx
- 成果物: 定義書
- 受入基準: 全テーブルカバー、制約/索引定義あり
- 証跡: xlsx + レビュー

## 4) Prisma スキーマ / マイグレーション計画

- 目的: スキーマのコード化と移行管理
- 手順: prisma.schema 更新 →migration 作成 → 本番互換検証（影響範囲、ダウンタイム）
- ツール: Prisma
- 成果物: スキーマ + migration
- 受入基準: 互換性確認、ロールバック案あり
- 証跡: PR リンク + 実行ログ

## 5) API エラーコード方針（日本語メッセージ）

- 目的: ユーザーに分かりやすいエラー表示
- 手順: エラーコード表（HTTP/業務）、UI 用日本語メッセージ例を定義
- ツール: Error-Policy.md
- 成果物: エラー方針
- 受入基準: 主要ケース定義、UI 表記ガイドあり
- 証跡: 文書 + レビュー

## 6) 品質レビュー記録

- 目的/手順/受入基準は基本設計と同様
